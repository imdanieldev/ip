<html>
<head>
    <title>IP Address</title>
    <script type="text/javascript">
        function getIP() {
            var xmlhttp = new XMLHttpRequest();

            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == XMLHttpRequest.DONE) {   // XMLHttpRequest.DONE == 4
                    if (xmlhttp.status == 200) {
                        document.getElementById("ip").innerHTML = xmlhttp.responseText;
                    } else if (xmlhttp.status == 400) {
                        alert('There was an error 400');
                    } else {
                        alert('something else other than 200 was returned');
                    }
                }  // end of if (xmlhttp.readyState == XMLHttpRequest.DONE) 

            };  // end of xmlhttp.onreadystatechange = function()

            xmlhttp.open("GET", "https://api.ipify.org?format=json", true);  // true for asynchronous 

            xmlhttp.send();

        }  // end of function getIP() 

    </script>    
</head>    
<body onload="getIP()">   <!-- call getIP() when page is loaded -->  

    <p id="ip">Your IP address will be displayed here.</p>   <!-- display IP address here -->  

 </body>    
</html>
